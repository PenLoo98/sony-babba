import "./globals.css";
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import Header from "@/components/Headers/Header";
import Footer from "@/components/Footer";
import ValidToken from "@/components/Auth/ValidToken";

import NextTopLoader from 'nextjs-toploader';


const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "With Sports",
  description: "Generated by create next app",
};

// TypeScript는 CSS 프로퍼티를 엄격하게 체크한다.
// flexDirection의 경우 'row', 'row-reverse', 'column', 'column-reverse'와 같은 특정한 문자열 값만을 가질 수 있습니다.
interface Styles {
  display: string;
  justifyContent: string;
  flexDirection?: "column" | undefined;
  height?: string;
  alignItems?: string;
}

// Footer 하단 고정
const contentWrapper: Styles = {
  display: "flex",
  justifyContent: "center",
  alignItems: "center",
};

const wrapper: Styles = {
  display: "flex",
  justifyContent: "space-between",
  flexDirection: "column",
  height: "100vh",
};

type Props = {
  children: React.ReactNode;
};
export default function RootLayout({ children }: Props) {
  return (
    <html>
      {/* https설정 */}
      <head>
        <meta
          httpEquiv="Content-Security-Policy"
          content="upgrade-insecure-requests"
        />
        <meta httpEquiv="Content-Type" content="text/html; charset=utf-8" />
      </head>
        <body className={inter.className}>
          <NextTopLoader color="green" initialPosition={0.08} crawlSpeed={200} height={3} crawl={true} showSpinner={true} easing="ease" speed={200} shadow="0 0 10px #2299DD,0 0 5px #2299DD" />
          <div className="wrapper" style={wrapper}>
            <ValidToken />
            <Header />
            <div className="contentWrapper" style={contentWrapper}>
              {children}
            </div>
            <Footer />
          </div>
        </body>
    </html>
  );
}
